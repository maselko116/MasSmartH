<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MasSmartH | Twój Inteligentny Dom</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- ZMIENNE I BAZA (SPÓJNE DLA WSZYSTKICH STRON) --- */
        :root {
            --primary: #6366f1; 
            --secondary: #3b82f6;
            --dark: #0f172a;
            --text-gray: #475569;
            --bg-light: #ffffff;
            --bg-offset: #f8fafc;
            --card-bg: #ffffff;
            --border-color: rgba(0,0,0,0.05);
            --brand-gradient: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            --radius: 16px;
            --shadow: 0 10px 30px -5px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        body.dark-mode {
            --dark: #f1f5f9; --text-gray: #94a3b8; --bg-light: #0f172a;
            --bg-offset: #1e293b; --card-bg: #1e293b; --border-color: rgba(255,255,255,0.05);
            --shadow: 0 10px 30px -5px rgba(0, 0, 0, 0.5);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; scroll-padding-top: 80px; }
        body { font-family: 'Inter', sans-serif; color: var(--text-gray); line-height: 1.6; background-color: var(--bg-light); transition: background 0.5s, color 0.5s; }
        a { text-decoration: none; color: inherit; }
        ul { list-style: none; }
        h1, h2, h3, h4 { color: var(--dark); line-height: 1.2; transition: color 0.5s ease; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }

        /* UI */
        .btn { display: inline-block; padding: 14px 36px; background: var(--brand-gradient); color: white; border-radius: 50px; font-weight: 600; transition: var(--transition); border: none; cursor: pointer; }
        .btn:hover { transform: translateY(-3px); box-shadow: 0 8px 25px rgba(99, 102, 241, 0.5); }
        .section-title { text-align: center; margin-bottom: 4rem; }
        .section-title h2 { font-size: 2.8rem; font-weight: 800; letter-spacing: -1px; }
        .section-title p { color: var(--primary); font-weight: 700; text-transform: uppercase; letter-spacing: 2px; font-size: 0.85rem; }

        /* Header & Nav */
        header { background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(12px); position: sticky; top: 0; z-index: 1000; border-bottom: 1px solid var(--border-color); transition: background 0.5s; }
        body.dark-mode header { background: rgba(15, 23, 42, 0.8); }
        nav { display: flex; justify-content: space-between; align-items: center; height: 80px; }
        .logo { font-size: 1.6rem; font-weight: 800; color: var(--dark); display: flex; align-items: center; gap: 10px; }
        .logo span { background: var(--brand-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .nav-links { display: flex; gap: 30px; align-items: center; }
        .nav-links a { font-weight: 500; color: var(--dark); transition: var(--transition); font-size: 0.95rem; }
        .nav-links a:hover, .nav-links a.active { color: var(--primary); font-weight: 600; }
        .theme-toggle { cursor: pointer; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; background: var(--bg-offset); transition: background 0.3s; }
        .menu-toggle { display: none; font-size: 1.5rem; cursor: pointer; color: var(--dark); }

        /* Hero */
        .hero { padding: 120px 0; min-height: 85vh; display: flex; align-items: center; background: radial-gradient(circle at 80% 20%, rgba(99, 102, 241, 0.08) 0%, transparent 40%), radial-gradient(circle at 20% 80%, rgba(59, 130, 246, 0.08) 0%, transparent 40%); }
        .hero-content { max-width: 650px; }
        .hero h1 { font-size: 4rem; margin-bottom: 25px; font-weight: 900; letter-spacing: -2px; }
        
        /* Styl kursora maszyny do pisania */
        .hero-typing { color: var(--primary); position: relative; }
        .hero-typing::after { content: '|'; position: absolute; right: -15px; animation: blink 0.7s infinite; }
        @keyframes blink { 50% { opacity: 0; } }

        .hero p { font-size: 1.25rem; margin-bottom: 40px; color: var(--text-gray); max-width: 90%; }

        /* Stats */
        .stats-section { padding: 60px 0; background: var(--brand-gradient); color: white; border-radius: var(--radius); margin-top: -60px; position: relative; z-index: 10; box-shadow: 0 20px 40px rgba(99, 102, 241, 0.3); margin-bottom: 80px; }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); text-align: center; gap: 20px; }
        .stat-item h3 { font-size: 3rem; font-weight: 800; margin-bottom: 5px; color: white; }

        /* Sekcje */
        .about, .portfolio, .faq { padding: 100px 0; transition: background 0.3s; }
        .about { background: var(--bg-light); }
        .portfolio { background: var(--bg-offset); }
        .faq { background: var(--bg-light); }

        .portfolio-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; }
        .portfolio-item { background: var(--card-bg); border-radius: var(--radius); overflow: hidden; box-shadow: var(--shadow); border: 1px solid var(--border-color); transition: var(--transition); }
        .portfolio-item:hover { transform: translateY(-10px); }
        .portfolio-img { height: 220px; display: flex; align-items: center; justify-content: center; color: white; font-size: 3rem; }
        .portfolio-info { padding: 30px; }

        /* FAQ */
        .faq-item { background: var(--card-bg); border: 1px solid var(--border-color); border-radius: var(--radius); margin-bottom: 15px; overflow: hidden; }
        .faq-question { padding: 25px; cursor: pointer; display: flex; justify-content: space-between; font-weight: 700; color: var(--dark); }
        .faq-answer { max-height: 0; overflow: hidden; transition: max-height 0.3s ease; padding: 0 25px; color: var(--text-gray); }
        .faq-item.active .faq-answer { padding-bottom: 25px; }

        /* Footer */
        footer { background: #0f172a; color: white; padding: 80px 0 30px; position: relative; }
        footer::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 4px; background: var(--brand-gradient); }
        .footer-content { display: flex; justify-content: space-between; flex-wrap: wrap; gap: 40px; margin-bottom: 60px; }
        .footer-column ul li { margin-bottom: 10px; color: #94a3b8; }
        .footer-column ul li a:hover { color: white; }

        .fab-contact { position: fixed; bottom: 30px; right: 30px; width: 60px; height: 60px; background: var(--brand-gradient); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.5rem; box-shadow: 0 10px 25px rgba(99, 102, 241, 0.4); cursor: pointer; z-index: 1000; }

        /* Pasek Postępu */
        .scroll-progress-container { position: fixed; top: 0; left: 0; width: 100%; height: 4px; background: transparent; z-index: 2000; pointer-events: none; }
        .scroll-progress-bar { height: 100%; background: var(--brand-gradient); width: 0%; transition: width 0.1s; }

        /* Animacje */
        .reveal { opacity: 0; transform: translateY(30px); transition: all 1s ease; }
        .reveal.active { opacity: 1; transform: translateY(0); }

        @media (max-width: 768px) {
            .nav-links { display: none; position: absolute; top: 80px; left: 0; width: 100%; background: var(--card-bg); flex-direction: column; padding: 30px; border-bottom: 1px solid var(--border-color); }
            .nav-links.active { display: flex; }
            .menu-toggle { display: block; }
            .hero h1 { font-size: 2.8rem; }
            .stats-section { margin-top: 0; }
        }
    </style>
</head>
<body>
    <!-- PASEK POSTĘPU -->
    <div class="scroll-progress-container">
        <div class="scroll-progress-bar" id="progressBar"></div>
    </div>

    <header>
        <div class="container">
            <nav>
                <a href="index.html" class="logo"><i class="fa-solid fa-house-signal" style="color: var(--primary);"></i>Mas<span>SmartH</span></a>
                <ul class="nav-links">
                    <li><a href="index.html" class="active">Strona główna</a></li>
                    <li><a href="oferta.html">Oferta</a></li>
                    <li><a href="demo.html">Demo</a></li>
                    <li><a href="#faq">FAQ</a></li>
                    <li><a href="#kontakt">Kontakt</a></li>
                    <!-- Przycisk Dark Mode -->
                    <div class="theme-toggle" onclick="toggleTheme()"><i class="fa-solid fa-moon"></i></div>
                </ul>
                <div class="menu-toggle"><i class="fa-solid fa-bars"></i></div>
            </nav>
        </div>
    </header>

    <section class="hero">
        <div class="container">
            <div class="hero-content reveal">
                <h1>Twój dom, tylko <br><span class="hero-typing"></span></h1>
                <p>Profesjonalne systemy Smart Home oparte o Home Assistant. Pełna kontrola, bezpieczeństwo i prywatność. Bez chmur i abonamentów.</p>
                <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                    <a href="oferta.html" class="btn">Sprawdź Ofertę</a>
                    <a href="demo.html" class="btn" style="background: var(--bg-offset); color: var(--dark);">Zobacz Demo</a>
                </div>
            </div>
        </div>
    </section>

    <div class="container">
        <div class="stats-section reveal">
            <div class="container stats-grid">
                <div class="stat-item"><h3 data-target="150">0</h3><p>Projektów</p></div>
                <div class="stat-item"><h3 data-target="30">0</h3><p>% Oszczędności</p></div>
                <div class="stat-item"><h3 data-target="100">0</h3><p>% Prywatności</p></div>
                <div class="stat-item"><h3 data-target="24">0</h3><p>h Wsparcia</p></div>
            </div>
        </div>
    </div>

    <section class="about">
        <div class="container">
            <div class="section-title reveal"><p>O marce</p><h2>Dlaczego MasSmartH?</h2></div>
            <div class="reveal" style="max-width: 800px; margin: 0 auto; text-align: center;">
                <p style="font-size: 1.1rem; margin-bottom: 20px;">
                    Tworzę systemy, które działają dla Ciebie, a nie dla korporacji. Stawiam na rozwiązania <strong>Open Source</strong> (Home Assistant), które gwarantują, że Twoje dane zostają w domu.
                </p>
                <p style="font-size: 1.1rem; color: var(--primary); font-weight: 600;">
                    Brak internetu? Żaden problem. Mój system działa w pełni lokalnie.
                </p>
            </div>
        </div>
    </section>

    <section id="realizacje" class="portfolio">
        <div class="container">
            <div class="section-title reveal"><p>Korzyści</p><h2>Co zyskujesz?</h2></div>
            <div class="portfolio-grid">
                <div class="portfolio-item reveal">
                    <div class="portfolio-img" style="background: linear-gradient(135deg, #3b82f6, #06b6d4);"><i class="fa-solid fa-couch"></i></div>
                    <div class="portfolio-info"><span>Komfort</span><h4>Sceny Świetlne</h4><p>Jeden klik i salon zmienia się w kino. Rolety w dół, światła przygasają.</p></div>
                </div>
                <div class="portfolio-item reveal">
                    <div class="portfolio-img" style="background: linear-gradient(135deg, #10b981, #34d399);"><i class="fa-solid fa-piggy-bank"></i></div>
                    <div class="portfolio-info"><span>Pieniądze</span><h4>Oszczędność</h4><p>Inteligentne ogrzewanie to nawet 30% niższe rachunki w skali roku.</p></div>
                </div>
                <div class="portfolio-item reveal">
                    <div class="portfolio-img" style="background: linear-gradient(135deg, #f59e0b, #fbbf24);"><i class="fa-solid fa-house-flood-water"></i></div>
                    <div class="portfolio-info"><span>Bezpieczeństwo</span><h4>Anty-Zalanie</h4><p>System automatycznie odcina wodę, gdy wykryje wyciek pod pralką.</p></div>
                </div>
                 <div class="portfolio-item reveal">
                    <div class="portfolio-img" style="background: linear-gradient(135deg, #8b5cf6, #d946ef);"><i class="fa-solid fa-location-dot"></i></div>
                    <div class="portfolio-info"><span>Wygoda</span><h4>Brama GPS</h4><p>Brama otwiera się sama, gdy podjeżdżasz autem pod dom. Magia.</p></div>
                </div>
            </div>
        </div>
    </section>

    <section id="faq" class="faq">
        <div class="container">
            <div class="section-title reveal"><p>Wiedza</p><h2>FAQ</h2></div>
            <div class="reveal" style="max-width: 800px; margin: 0 auto;">
                <div class="faq-item">
                    <div class="faq-question">Czy to działa bez internetu? <i class="fa-solid fa-chevron-down"></i></div>
                    <div class="faq-answer"><p>Tak! Cały system Home Assistant działa lokalnie. Internet potrzebny jest tylko do zdalnego dostępu z telefonu poza domem.</p></div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">Co jeśli padnie prąd? <i class="fa-solid fa-chevron-down"></i></div>
                    <div class="faq-answer"><p>System wstanie automatycznie po powrocie zasilania. Możemy też zamontować zasilacz UPS, który utrzyma system przy życiu przez kilka godzin.</p></div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">Czy mogę rozbudować system później? <i class="fa-solid fa-chevron-down"></i></div>
                    <div class="faq-answer"><p>Jasne. To system otwarty. Dziś robimy światło, za rok bramę, a za dwa lata nawadnianie ogrodu. Pełna elastyczność.</p></div>
                </div>
            </div>
        </div>
    </section>

    <footer id="kontakt">
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <a href="index.html" class="logo" style="color:white; display:block; margin-bottom: 20px;">Mas<span>SmartH</span></a>
                    <p>Twój dom w Twoich rękach.</p>
                </div>
                <div class="footer-column">
                    <h4>Nawigacja</h4>
                    <ul>
                        <li><a href="index.html">Strona główna</a></li>
                        <li><a href="oferta.html">Oferta</a></li>
                        <li><a href="demo.html">Demo</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h4>Kontakt</h4>
                    <ul>
                        <li><i class="fa-solid fa-envelope"></i> kontakt@massmarth.pl</li>
                        <li><i class="fa-brands fa-linkedin"></i> LinkedIn</li>
                    </ul>
                </div>
            </div>
            <div class="copyright">&copy; 2025 MasSmartH.</div>
        </div>
    </footer>
    
    <a href="#kontakt" class="fab-contact"><i class="fa-solid fa-phone"></i></a>

    <script>
        // --- ZAAWANSOWANY DARK MODE (SYNC + PERSISTENCE) ---
        function applyTheme(theme) {
            const icon = document.querySelector('.theme-toggle i');
            if (theme === 'dark') {
                document.body.classList.add('dark-mode');
                icon.classList.replace('fa-moon', 'fa-sun');
            } else {
                document.body.classList.remove('dark-mode');
                icon.classList.replace('fa-sun', 'fa-moon');
            }
        }

        function toggleTheme() {
            const current = localStorage.getItem('theme') === 'dark' ? 'light' : 'dark';
            localStorage.setItem('theme', current);
            applyTheme(current);
        }

        // 1. Sprawdź zapisany motyw przy starcie
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme) {
            applyTheme(savedTheme);
        }

        // 2. Nasłuchuj zmian w innych kartach (synchronizacja)
        window.addEventListener('storage', (e) => {
            if (e.key === 'theme') {
                applyTheme(e.newValue);
            }
        });


        // SCROLL PROGRESS
        window.onscroll = function() {
            let winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            let height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            let scrolled = (winScroll / height) * 100;
            document.getElementById("progressBar").style.width = scrolled + "%";
            
            // Licznik
            const stats = document.querySelector('.stats-section');
            if(stats && winScroll > stats.offsetTop - window.innerHeight + 100 && !window.counted) {
                document.querySelectorAll('.stat-item h3').forEach(c => {
                    const t = +c.getAttribute('data-target');
                    const inc = t/200;
                    const upd = () => {
                        const n = +c.innerText;
                        if(n<t) { c.innerText=Math.ceil(n+inc); setTimeout(upd, 20); }
                        else c.innerText=t+"+";
                    };
                    upd();
                });
                window.counted=true;
            }
            reveal();
        };

        // TYPING HERO
        const txts=["inteligentny","bezpieczny","oszczędny"];
        let i=0, timer;
        function type() {
            const el=document.querySelector('.hero-typing');
            if(el) {
                const w=txts[i].split("");
                const loop=()=>{
                    if(w.length>0) { el.innerHTML+=w.shift(); timer=setTimeout(loop,100); }
                    else setTimeout(del,2000);
                };
                loop();
            }
        }
        function del() {
            const el=document.querySelector('.hero-typing');
            if(el) {
                const w=txts[i].split("");
                const loop=()=>{
                    if(w.length>0) { w.pop(); el.innerHTML=w.join(""); timer=setTimeout(loop,50); }
                    else { i=(i+1)%txts.length; type(); }
                };
                loop();
            }
        }
        type();

        // UI HELPERS
        document.querySelector('.menu-toggle').onclick = () => document.querySelector('.nav-links').classList.toggle('active');
        document.querySelectorAll('.nav-links a').forEach(a => a.onclick=()=>document.querySelector('.nav-links').classList.remove('active'));
        
        function reveal() {
            document.querySelectorAll('.reveal').forEach(r => {
                if(r.getBoundingClientRect().top < window.innerHeight - 50) r.classList.add('active');
            });
        }
        reveal();

        // FAQ ACCORDION
        document.querySelectorAll('.faq-question').forEach(q => {
            q.onclick = () => {
                const item = q.parentElement;
                item.classList.toggle('active');
                const ans = item.querySelector('.faq-answer');
                ans.style.maxHeight = item.classList.contains('active') ? ans.scrollHeight + "px" : null;
            }
        });
    </script>
</body>
</html>
